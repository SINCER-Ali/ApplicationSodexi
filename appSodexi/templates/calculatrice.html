<!-- templates/calculatrice.html -->
{% extends 'home.html' %}

{% block content %}
{% block title %}
Calculateur de Tarif
{% endblock %}

<div class="container d-flex justify-content-center align-items-center" style="min-height: 100vh;">
    <div class="card p-4">
        <h1 class="text-center mb-4">Calculateur de Tarif</h1>
        <form method="post" action="{% url 'calculatrice' %}">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="btn btn-primary mt-3">Calculer</button>
        </form>

        {% if tarif_info %}
        <div id="tarif_info">
            <h2 class="mt-4">Informations sur le tarif :</h2>
            <p>Origine : {{ tarif_info.origine }}</p>
            <p>Destination : {{ tarif_info.destination }}</p>
            <p>Minimum : {{ tarif_info.minimum }} kg</p>
            <p>Convention : {{ tarif_info.convention }}</p>

            {% if cout_estime %}
            <h2 class="mt-4">Coût estimé :</h2>
            <p>{{ poids_kg }} kg coûteront {{ cout_estime }} €</p>
            {% endif %}
        </div>
        {% elif form.errors %}
        <div id="tarif-info">
            <p class="mt-4 text-danger">{{ form.errors }}</p>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
